
To Do Right Now
------------------

- improve is_true()

- basic docs and examples

- check that --jit works with --faassen

   - we explode in reg alloc for f(sys.maxint) (of test_pypy_c) ...!
     it seems we are in a flexswitch after a promote to be precise
     adding a bunch of printf to the c code: it seems that the inputlocatios to the reg alloc contain the same register twice
     mmh, because we have the same variable twice (this is an invariant broken)

- 386 regalloc bug: release(gv) might release it too early if gv is
  used several times by the same operation :-(

Longer-term
------------------

- we are promoting inside space.type, there are other uses of it    
  beyond dispatching, it may not be the best idea in general

- don't follow eagerly the exception path of 'int_xxx_ovf'.

- global merge point and portal should delegate their cache impl.
  to the application (to allow keeping things alive correctly)

- unify the notion of the portal entry cache with an implicit global
  merge point (for the purpose of promotion), conceptually at the
  beginning of the portal, but concretely implemented in the portal
  entry

- make backend opts usable on the interp+timeshifted interp graph forest

Open issues
--------------

- think about aliasing issues with virtualizables

Improvements
-------------

- promotions for "python dispatching"

- do something correct about bytecode_trace

- floats

- jit-friendlier interpreter (whatever, as needed)

- reduce the size of the timeshifted code: no dispatch for no
  split/merge functions ...

- insert hints to forget uninteresting constants, e.g. the
  initial 0 of RPython list iterators

- pyopcode.compare_dispatch_table => switch statement

- share code between the machine code backends (MachineCodeBlock,
  possibly register allocation)

- more green vars in the hintannotator: for y=hint(x, deepfreeze=True)
  if x is green
